<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' https://fonts.googleapis.com/ 'unsafe-inline'; script-src 'self' 'unsafe-eval' 'unsafe-inline';">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <script type="text/javascript" src="../cordova.js"></script>
        <script type="text/javascript" src="../bower_components/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="../bower_components/material-design-lite/material.min.js"></script>
        <script type="text/javascript" src="../bower_components/knockout/knockout.js"></script>
        <script type="text/javascript" src="../js/main-script.js"></script>
        <script type="text/javascript" src="../js/viewmodels/profileviewmodel.js"></script>
        <link rel="stylesheet" type="text/css" href="../bower_components/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../bower_components/material-design-lite/material.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
        
        <title>ShakePoint</title>
        <style>
            .mdl-card{
              width: 90%; 
              padding: 12px; 
            }
            .qr{
              width: 80%; 
              height: 128px; 
              margin-top:16px; 
            }
            .row{ margin: 8px; }
            .mdl-button{
              display:block;
            }
        </style>
    </head>
    <body>
        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
          <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
              <!-- Title -->
              <span class="mdl-layout-title">Perfil ShakePoint</span>
              <!-- Add spacer, to align navigation to the right -->
              <div class="mdl-layout-spacer"></div>
                <!-- Navigation -->
            </div>
          </header>
          <main class="mdl-layout__content">
            <div class="page-content">
              <div data-bind="visible: error" class="alert alert-warning center-block text-center" role="alert" style="font-size: 12px;">
                <b data-bind="text: errorMessage"></b>
                </div>
                <div data-bind="visible: unavailableProfile" class="alert alert-warning center-block text-center" role="alert" style="font-size: 12px;">
                  Aún no has creaado un perfile ShakePoint crea uno para recibir recomendaciones de bebidas de acuerdo a tu perfil<br/>
                  <button data-bind="click: createProfile" class="mdl-button mdl-js-button mdl-button--accent center-block">Crear perfil</button>
                </div>
                <div data-bind="visible: loading" class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active center-block" style="width: 32px; height: 32px;margin-left: auto; margin-right: auto;display: block; margin-top: 16px;"></div>

              <div data-bind="visible: hasProfile" class="mdl-card mdl-shadow--4dp center-block">
                <h5 data-bind="text: name"></h5>
                <p>Total en compras: <b data-bind="text: purchasesTotal"></b> MXN</p>
                <p>Usuario desde: <b data-bind="text: userSince"></b></p>
                <p>Fecha de nacimiento: <b data-bind="text:birthday"></b></p>
                <p>Correo: <b data-bind="text: email"></b></p>
                <p>Edad: <b data-bind="text:age"></b></p>
                <p>Peso: <b data-bind="text:weight"></b> Kgs</p>
                <p>Altura: <b data-bind="text:height"></b> Mts</p>
                <p>Índice de masa corporal: <b data-bind="text:cmi"></b> Kg / Mt cuadrado</p>
                <div class="row">
                  <div class="col-xs-6 col-sm-6"><button data-bind="click: viewPurchases" class="mdl-button mdl-js-button mdl-button-accent center-block">
                  Compras
                </button></div>
                <div class="col-xs-6 col-sm-6"><button data-bind="click: editProfile" class="mdl-button mdl-js-button mdl-button-accent center-block">Editar</button></div>
                </div>
              </div>
              <div data-bind="visible: newProfile" class="mdl-card mdl-shadow--4dp center-block">
                <h4 class="center-block">Crea tu perfil en ShakePoint</h4>
                <form id="newProfileForm">
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input data-bind="value: age" class="mdl-textfield__input" type="number" id="age" name="age">
                    <label class="mdl-textfield__label" for="age">Edad</label>   
                  </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input data-bind="value: height, text: height" class="mdl-textfield__input" type="number" id="height" name="height" step="any" min="1.0" max="2.0">
                    <label class="mdl-textfield__label" for="age">Altura (MTS)</label>   
                  </div>
                  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                    <input data-bind="value: weight, text: weight" class="mdl-textfield__input" type="number" id="weight" name="weight" step="any" min="50.0" max="200">
                    <label class="mdl-textfield__label" for="age">Peso (KG)</label>   
                  </div>
                  <input data-bind="value: birthday" type="hidden" id="newProfileDate" name="birthday">
                  <button data-bind="click: showDatePicker, text: birthday" type="button" class="mdl-button mdl-js-button mdl-button--accent center-block">
                    
                  </button><br/><br/>

                  <button data-bind="click: saveProfile" type="button" class="mdl-button mdl-js-button mdl-button--primary center-block">
                    Guardar perfil
                  </button>
                </form>
              </div>
            </div>
          </main>
        </div>
    </body>
</html>
